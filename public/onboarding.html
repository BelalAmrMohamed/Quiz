<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">

    <!-- Critical Performance: DNS prefetch and preconnect -->
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    <link rel="dns-prefetch" href="https://fonts.gstatic.com">
    <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- Title and Favicon -->
    <title>ููุตุฉ ุฅูุชุญุงูุงุช ุจุตูุฌู</title>
    <link rel="icon" href="favicon.png" type="image/png">
    <link rel="shortcut icon" href="favicon.ico" />
    <link rel="icon" type="image/svg+xml" href="favicon.svg" />

    <!-- Meta tags -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="theme-color" content="#0088cc" media="(prefers-color-scheme: light)">
    <meta name="theme-color" content="#1a1a2e" media="(prefers-color-scheme: dark)">
    <meta name="description"
        content="ููุตุฉ ุชุนููููุฉ ูุฌุงููุฉ ุชุถู ููุชุจุฉ ุดุงููุฉ ูู ุงูุฅูุชุญุงูุงุช ุงูุฎุงุตุฉ ุจูููุฉ ุงูุญุงุณุจุงุช ูุงููุนูููุงุช. ุทููุฑ ูุนุฑูุชู ูู ุฎูุงู ุงุฎุชุจุงุฑุงุช ุชูุงุนููุฉ ูู ุฌููุน ุงูููุงุฏ.">
    <meta name="author" content="Belal Amr Mohamed">
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="keywords" content="ุฅูุชุญุงูุงุช, ูููุฉ ุงูุญุงุณุจุงุช, ุงุฎุชุจุงุฑุงุช ุชูุงุนููุฉ, ุชุนููู, ุฏุฑุงุณุฉ, ุงูุชุญุงูุงุช ุงูู ูุงูู">
    <link rel="canonical" href="https://basmagi-quiz.vercel.app/">

    <!-- PWA Meta Tags -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="ุจุตูุฌู ูููุฒ">
    <meta name="application-name" content="ุจุตูุฌู ูููุฒ">
    <meta name="format-detection" content="telephone=no">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://basmagi-quiz.vercel.app/">
    <meta property="og:title" content="ููุตุฉ ุฅูุชุญุงูุงุช ุงูุจุตูุฌู: ุฅุฎุชุจุฑ ุฃุฏุงุฆู ูู ุงูุฅูุชุญุงูุงุช ุจุฌููุน ุงููุณุชููุงุช">
    <meta property="og:description" content="ููุตุฉ ูุฌุงููุฉ ุชุญุชูู ุนูู ุฅูุชุญุงูุงุช ูุฌููุน ููุงุฏ ูููุฉ ุงูุญุงุณุจุงุช ูุงููุนูููุงุช">
    <meta property="og:image" content="https://basmagi-quiz.vercel.app/assets/images/thumbnail.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="ููุตุฉ ุฅูุชุญุงูุงุช ุจุตูุฌู">
    <meta property="og:site_name" content="ููุตุฉ ุฅูุชุญุงูุงุช ุจุตูุฌู">
    <meta property="og:locale" content="ar_AR">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@BelalAmrDev">
    <meta name="twitter:creator" content="@BelalAmrDev">
    <meta name="twitter:title" content="ุชูุฏุฑ ุชุฎุชู ุฃูุซุฑ ูู 10 ุฅูุชุญุงูุงุชุ">
    <meta name="twitter:description" content="ุฅุฎุชุจุฑ ูุฏุฑุงุชู ูู ุงูุฅูุชุญุงูุงุช ุงูููุงุฆูุฉ">
    <meta name="twitter:image" content="https://basmagi-quiz.vercel.app/assets/images/thumbnail.png">
    <meta name="twitter:image:alt" content="ููุตุฉ ุฅูุชุญุงูุงุช ุจุตูุฌู">

    <!-- PWA Manifest & Icons -->
    <link rel="apple-touch-icon" sizes="180x180" href="assets/images/icon-180.png">
    <link rel="apple-touch-icon" sizes="192x192" href="assets/images/icon-192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/images/icon-32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/images/icon-16.png">

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "ููุตุฉ ุฅูุชุญุงูุงุช ุจุตูุฌู",
      "alternateName": "Basmagi Quiz Platform",
      "description": "ููุตุฉ ุชุนููููุฉ ูุฌุงููุฉ ุชุถู ููุชุจุฉ ุดุงููุฉ ูู ุงูุฅูุชุญุงูุงุช ุงูุฎุงุตุฉ ุจูููุฉ ุงูุญุงุณุจุงุช ูุงููุนูููุงุช",
      "url": "https://basmagi-quiz.vercel.app/",
      "applicationCategory": "EducationalApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "inLanguage": "ar",
      "author": {
        "@type": "Person",
        "name": "Belal Amr Mohamed",
        "url": "https://portfolio-of-belal.vercel.app/"
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.8",
        "reviewCount": "150"
      }
    }
    </script>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        { 
          "@type": "ListItem", 
          "position": 1, 
          "name": "ููุตุฉ ุฅูุชุญุงูุงุช ุจุตูุฌู", 
          "item": "https://basmagi-quiz.vercel.app/" 
        },
        { 
          "@type": "ListItem", 
          "position": 2, 
          "name": "ุฅูุดุงุก ุฅูุชุญุงูุงุช", 
          "item": "https://basmagi-quiz.vercel.app/create-quiz.html" 
        },
        { 
          "@type": "ListItem", 
          "position": 3, 
          "name": "ุงููุงุฆุญุฉ", 
          "item": "https://basmagi-quiz.vercel.app/dashboard.html" 
        }
      ]
    }
    </script>

    <!-- CRITICAL: Anti-flash theme script (must run before paint) -->
    <script>
        (function () {
            try {
                const savedTheme = localStorage.getItem("quiz_theme_pref") || "light";
                const savedAnimations = localStorage.getItem("quiz_animations_pref") !== "disabled";
                const reducedMotion = window.matchMedia("(prefers-reduced-motion: reduce)").matches;

                document.documentElement.setAttribute("data-theme", savedTheme);
                document.documentElement.setAttribute("data-animations", (savedAnimations && !reducedMotion) ? "enabled" : "disabled");

                // Add loading class to prevent FOUC
                document.documentElement.classList.add('is-loading');
            } catch (e) {
                console.error('Theme initialization error:', e);
            }
        })();
    </script>

    <!-- Fonts: Inter (Latin) + Tajawal (Arabic) โ optimized loading -->
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Tajawal:wght@400;500;700;800&display=swap"
        rel="stylesheet" media="print" onload="this.media='all'; this.onload=null;">
    <noscript>
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Tajawal:wght@400;500;700;800&display=swap"
            rel="stylesheet">
    </noscript>

    <link rel="stylesheet" href="src/styles/onboarding.css">
    <link rel="stylesheet" href="src/components/notifications.css">

    <script>
        // Redirect if already onboarded (optional check, main logic in index.js)
        if (localStorage.getItem('first_visit_complete') === 'true') {
            window.location.href = 'index.html';
        }
    </script>
</head>

<body>

    <div class="wizard-container">
        <div class="wizard-header" style="position: relative;">
            <h1>ุฅุนุฏุงุฏ ุญุณุงุจู</h1>
            <p>ููุณุชุนุฏ ูุชุฌุฑุจุฉ ุชุนููููุฉ ูุฎุตุตุฉ ูู</p>
            <button id="skipBtn" class="btn btn-secondary skip"
                style="position: absolute; top: 30px; left: 40px; border: 1px solid rgba(0,0,0,0.1);">ุชุฎุทู</button>
        </div>

        <div class="progress-container">
            <div class="progress-step active"></div> <!-- Name -->
            <div class="progress-step"></div> <!-- Faculty -->
            <div class="progress-step"></div> <!-- Year -->
            <div class="progress-step"></div> <!-- Term -->
            <div class="progress-step"></div> <!-- Preferences -->
            <div class="progress-step"></div> <!-- Courses -->
            <div class="progress-step"></div> <!-- Welcome -->
        </div>

        <div class="wizard-content">

            <!-- Step 0: Name -->
            <div id="step-0" class="step-panel active">
                <h2 class="step-title">ูุง ูู ุงุณููุ</h2>
                <div class="input-group">
                    <label for="nameInput">ุงูุงุณู ุจุงููุงูู</label>
                    <input type="text" id="nameInput" class="form-input" placeholder="ุงูุชุจ ุงุณูู ููุง..." autofocus>
                </div>
            </div>

            <!-- Step 1: Faculty -->
            <div id="step-1" class="step-panel">
                <h2 class="step-title">ูู ุฃู ูููุฉ ุชุฏุฑุณุ</h2>
                <div id="facultyGrid" class="cards-grid">
                    <!-- JS Injected -->
                </div>
            </div>

            <!-- Step 2: Year -->
            <div id="step-2" class="step-panel">
                <h2 class="step-title">ุฃู ุณูุฉ ุฏุฑุงุณูุฉุ</h2>
                <div id="yearGrid" class="cards-grid"></div>
            </div>

            <!-- Step 3: Term -->
            <div id="step-3" class="step-panel">
                <h2 class="step-title">ุฃู ุชูุฑูุ</h2>
                <div id="termGrid" class="cards-grid"></div>
            </div>

            <!-- Step 4: Preferences -->
            <div id="step-4" class="step-panel">
                <h2 class="step-title">ุชูุถููุงุช ุงูุงุฎุชุจุงุฑ</h2>

                <h3 style="font-size:1rem; margin-bottom:10px;">ูุถุน ุงูุงุฎุชุจุงุฑ ุงูููุถู</h3>
                <div class="cards-grid" style="margin-bottom:20px;">
                    <label class="selection-card selected" onclick="updatePreference('defaultMode', 'practice')">
                        <input type="radio" name="defaultMode" value="practice" style="display:none" checked>
                        <div class="card-icon">๐ฏ</div>
                        <div class="card-content">
                            <div class="card-label">ุชุฏุฑูุจ (Practice)</div>
                            <div class="card-desc">ุฑุคูุฉ ุงูุฅุฌุงุจุงุช ุจุนุฏ ุงูุญู</div>
                        </div>
                    </label>
                    <label class="selection-card" onclick="updatePreference('defaultMode', 'timed')">
                        <input type="radio" name="defaultMode" value="timed" style="display:none">
                        <div class="card-icon">โ</div>
                        <div class="card-content">
                            <div class="card-label">ูุคูุช (Timed)</div>
                            <div class="card-desc">30 ุซุงููุฉ ููู ุณุคุงู</div>
                        </div>
                    </label>
                    <label class="selection-card" onclick="updatePreference('defaultMode', 'exam')">
                        <input type="radio" name="defaultMode" value="exam" style="display:none">
                        <div class="card-icon">โฑ๏ธ</div>
                        <div class="card-content">
                            <div class="card-label">ุงูุชุญุงู (Exam)</div>
                            <div class="card-desc">ุจุฏูู ุฅุฌุงุจุงุช ุฃุซูุงุก ุงูุงุฎุชุจุงุฑ</div>
                        </div>
                    </label>
                </div>

                <h3 style="font-size:1rem; margin-bottom:10px;">ููุท ุนุฑุถ ุงูุฃุณุฆูุฉ</h3>
                <div class="cards-grid">
                    <label class="selection-card selected" onclick="updatePreference('quizStyle', 'pagination')">
                        <input type="radio" name="quizStyle" value="pagination" style="display:none" checked>
                        <div class="card-icon">๐</div>
                        <div class="card-content">
                            <div class="card-label">ุณุคุงู ุจุณุคุงู (Pagination)</div>
                            <div class="card-desc">ุณุคุงู ูุงุญุฏ ูู ุงูุตูุญุฉ</div>
                        </div>
                    </label>
                    <label class="selection-card" onclick="updatePreference('quizStyle', 'vertical')">
                        <input type="radio" name="quizStyle" value="vertical" style="display:none">
                        <div class="card-icon">๐</div>
                        <div class="card-content">
                            <div class="card-label">ูุงุฆูุฉ ุทูููุฉ (Vertical)</div>
                            <div class="card-desc">ุฌููุน ุงูุฃุณุฆูุฉ ูู ุตูุญุฉ ูุงุญุฏุฉ</div>
                        </div>
                    </label>
                </div>
            </div>

            <!-- Step 5: Courses -->
            <div id="step-5" class="step-panel">
                <h2 class="step-title">ุงุฎุชุฑ ููุงุฏู (ุฅุถุงูุฉ ุญุฐู)</h2>
                <div id="coursesList" class="course-list"></div>
            </div>

            <!-- Step 6: Welcome -->
            <div id="step-6" class="step-panel">
                <div class="welcome-step">
                    <div class="welcome-icon">๐</div>
                    <h2 id="welcomeMsg">ุฃููุงู ุจู!</h2>
                    <p>ุชู ุฅุนุฏุงุฏ ุญุณุงุจู ุจูุฌุงุญ. ูุชููู ูู ุชุฌุฑุจุฉ ุชุนููููุฉ ููุชุนุฉ.</p>
                </div>
            </div>

        </div>

        <div class="wizard-actions">
            <button id="prevBtn" class="btn btn-secondary">ุงูุณุงุจู</button>
            <button id="nextBtn" class="btn btn-primary">ุงูุชุงูู</button>
        </div>
    </div>

    <script type="module" src="src/scripts/onboarding.js"></script>
</body>

</html>